doctype html
html#ng-app( ng-app='gameshow' )
  head

    //- styles
    link#ui( rel='stylesheet' type='text/css' href='/ui/style.css' )

    //- mobile style sheets
    meta( name='viewport' content='initial-scale=1, maximum-scale=1' )

    //- server data
    script( type='text/javascript' ).
      window.CLIENT_ID = '#{ id }';


  //- main view
  body( ng-controller='AppController' ng-class='{ loading: !state.ready }' )
    #view( ng-view )

    //- scripts
    script( src='/socket.io/socket.io.js' type='text/javascript' )
    script( src='/app.js' type='text/javascript' )


    script( type='text/javascript' ).
      function reset() {
        $('link').remove();
        $('<link/>').attr({
          type: 'text/css',
          rel: 'stylesheet',
          href:'/ui/style.css?r=' + (new Date()).getTime()
          }).appendTo( document.body );
      }